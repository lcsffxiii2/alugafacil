app = "alugafacil-backend"  # mude para o nome do seu app no Fly.io
primary_region = "gru"  # São Paulo, Brasil (baixa latência)

[http_service]
  internal_port = 8080  # deve bater com a porta do CMD no Dockerfile
  force_https = true
  auto_stop_machines = true
  auto_start_machines = true
  min_machines_running = 0

  [[http_service.checks]]
    interval = "30s"
    grace_period = "5s"
    method = "GET"
    path = "/api/health"
    protocol = "http"
    timeout = "5s"

[env]
  PORT = "8080"  # deve bater com a porta

[mounts]
  source = "pb_data"
  destination = "/pb_data"
